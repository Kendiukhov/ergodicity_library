<!DOCTYPE html>

<html lang="en" data-content_root="../../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ergodicity.process.constructor &#8212; Ergodicity Library 0.3.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=d1102ebc" />
    <link rel="stylesheet" type="text/css" href="../../../_static/alabaster.css?v=12dfc556" />
    <script src="../../../_static/documentation_options.js?v=e259d695"></script>
    <script src="../../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
   
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <h1>Source code for ergodicity.process.constructor</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">constructor Submodule</span>

<span class="sd">The `Constructor` submodule provides a flexible, interactive framework for users to dynamically create custom stochastic process classes. By gathering user input such as process name, type, and parameters, this module generates Python class definitions for either **Ito** or **Non-Ito** processes, enabling simulation and modeling of a wide variety of stochastic systems.</span>

<span class="sd">Key Features:</span>

<span class="sd">1. **Custom Process Generation**:</span>

<span class="sd">    - Users can define a custom stochastic process interactively by providing basic details, such as:</span>

<span class="sd">        - Name of the process</span>

<span class="sd">        - Whether the process is of **Ito** or **Non-Ito** type</span>

<span class="sd">        - Parameters of the process (e.g., drift and stochastic terms)</span>

<span class="sd">        - The mathematical increment of the process (e.g., for Brownian motion or LÃ©vy processes)</span>

<span class="sd">2. **Support for Both Ito and Non-Ito Processes**:</span>

<span class="sd">    - This module supports both Ito processes, which rely on stochastic calculus involving drift and stochastic terms, and Non-Ito processes, which may involve deterministic or fractional stochastic models.</span>

<span class="sd">    - Depending on whether the user selects the process to be **Ito** or **Non-Ito**, the generated class structure is modified accordingly.</span>

<span class="sd">3. **Interactive Code Generation**:</span>

<span class="sd">    - Once the user specifies the process details, the submodule dynamically generates and prints the Python class code for that process. This class includes:</span>

<span class="sd">        - Parameter initialization.</span>

<span class="sd">        - Custom increment calculation based on user input.</span>

<span class="sd">    The generated code follows the proper inheritance structure from either the `ItoProcess` or `NonItoProcess` base classes, ensuring compatibility with the larger framework.</span>

<span class="sd">4. **Simulation-Ready**:</span>

<span class="sd">    - The generated class can be used directly within the broader stochastic process framework for simulations. The custom increment function defines the process dynamics in a manner that integrates seamlessly with pre-existing tools.</span>

<span class="sd">Example Use Case:</span>

<span class="sd">A user might wish to simulate a custom geometric Brownian motion (GBM) with specific drift and volatility parameters. By following the interactive prompts, the user could input:</span>

<span class="sd">- Process name: &quot;CustomGBM&quot;</span>

<span class="sd">- Process type: Ito</span>

<span class="sd">- Parameters: &quot;alpha, beta&quot;</span>

<span class="sd">- Drift term: 0.05</span>

<span class="sd">- Stochastic term: 0.2</span>

<span class="sd">- Increment: `dW = dt**0.5 * np.random.normal(0, 1)`</span>

<span class="sd">- Increment equation: `dX = alpha * X * dt + beta * X * dW`</span>

<span class="sd">The submodule would then generate a fully functional Python class that the user can modify or simulate directly.</span>

<span class="sd">## Use Cases and Applications:</span>

<span class="sd">1. **Research and Experimentation**:</span>

<span class="sd">    - This module enables researchers to quickly define and simulate new stochastic processes for testing hypotheses or exploring new dynamics.</span>

<span class="sd">2. **Rapid Prototyping**:</span>

<span class="sd">    - For developers and scientists who need to build custom processes for specific simulations, this tool reduces the time required to write boilerplate code and allows for easy customization.</span>

<span class="sd">3. **Educational Purposes**:</span>

<span class="sd">    - This submodule is a helpful learning tool for students and practitioners to understand the structure of stochastic processes by generating and analyzing different custom processes.</span>

<span class="sd">## Example Workflow:</span>

<span class="sd">1. The user runs the `create_custom_process` function.</span>

<span class="sd">2. The system prompts for various details about the process (name, parameters, etc.).</span>

<span class="sd">3. The user inputs the increment function (drift and diffusion terms for Ito processes).</span>

<span class="sd">4. The module dynamically generates the Python code for the process, including initialization and simulation-ready custom increment logic.</span>

<span class="sd">5. The user receives a ready-to-use Python class that can be integrated into their broader simulations.</span>

<span class="sd">The `Constructor` submodule empowers users with full control over their process definitions, while ensuring consistency with Ito and Non-Ito frameworks in the overall stochastic process toolkit.</span>

<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span><span class="p">,</span> <span class="n">Any</span><span class="p">,</span> <span class="n">Type</span><span class="p">,</span> <span class="n">Callable</span>
<span class="kn">from</span> <span class="nn">.definitions</span> <span class="kn">import</span> <span class="n">ItoProcess</span>
<span class="kn">from</span> <span class="nn">.definitions</span> <span class="kn">import</span> <span class="n">NonItoProcess</span>
<span class="kn">from</span> <span class="nn">.definitions</span> <span class="kn">import</span> <span class="n">Process</span>
<span class="kn">from</span> <span class="nn">.default_values</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">.definitions</span> <span class="kn">import</span> <span class="n">simulation_decorator</span>
<span class="kn">from</span> <span class="nn">ergodicity.configurations</span> <span class="kn">import</span> <span class="o">*</span>

<span class="c1"># Function to get user input and create a custom process class</span>
<div class="viewcode-block" id="create_custom_process">
<a class="viewcode-back" href="../../../ergodicity/docs/source/ergodicity.process.html#ergodicity.process.constructor.create_custom_process">[docs]</a>
<span class="k">def</span> <span class="nf">create_custom_process</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This function allows the user to create a custom stochastic process class interactively by providing the necessary details such as process name, type, parameters, and increment function. The function then generates the Python class definition for the custom process based on the user input.</span>

<span class="sd">    :return: The generated Python class definition for the custom process.</span>
<span class="sd">    :rtype: str</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">name</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;What will be the name of the process? &quot;</span><span class="p">)</span>
    <span class="n">is_ito</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Is this an Ito process? (yes/no) &quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;yes&#39;</span>
    <span class="n">params</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;What are the parameters of the process? (comma separated, e.g., &#39;alpha, beta&#39;) &quot;</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">is_ito</span><span class="p">:</span>
        <span class="n">drift_term</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;What is the drift term of the process? &quot;</span><span class="p">))</span>
        <span class="n">stochastic_term</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;What is the stochastic term of the process? &quot;</span><span class="p">))</span>
    <span class="n">dW_code</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;What is the increment of the process? (e.g., &#39;dW = dt**0.5 * np.random.normal(0,1)&#39;) &quot;</span><span class="p">)</span>
    <span class="n">increment_code</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;What is the increment of the process? (e.g., &#39;dX = mu * X * dt + sigma * X * dW&#39;) &quot;</span><span class="p">)</span>

    <span class="n">param_assignments</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">        &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="sa">f</span><span class="s1">&#39;self._</span><span class="si">{</span><span class="n">param</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="si">}</span><span class="s1"> = </span><span class="si">{</span><span class="n">param</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="si">}</span><span class="s1">&#39;</span> <span class="k">for</span> <span class="n">param</span> <span class="ow">in</span> <span class="n">params</span><span class="p">])</span>

    <span class="k">if</span> <span class="n">is_ito</span><span class="p">:</span>
        <span class="n">class_code</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    class </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">(ItoProcess):</span>
<span class="s2">        def __init__(self, </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">params</span><span class="p">)</span><span class="si">}</span><span class="s2">):</span>
<span class="s2">            super().__init__(name=&#39;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;, process_class=None, drift_term=</span><span class="si">{</span><span class="n">drift_term</span><span class="si">}</span><span class="s2">, stochastic_term=</span><span class="si">{</span><span class="n">stochastic_term</span><span class="si">}</span><span class="s2">)</span>
<span class="s2">            </span><span class="si">{</span><span class="n">param_assignments</span><span class="si">}</span>

<span class="s2">        def custom_increment(self, X: float, timestep: float = timestep_default) -&gt; Any:</span>
<span class="s2">            </span><span class="si">{</span><span class="n">dW_code</span><span class="si">}</span>
<span class="s2">            dX = </span><span class="si">{</span><span class="n">increment_code</span><span class="si">}</span>
<span class="s2">            return dX</span>
<span class="s2">    &quot;&quot;&quot;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">class_code</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    class </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">(NonItoProcess):</span>
<span class="s2">        def __init__(self, </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">params</span><span class="p">)</span><span class="si">}</span><span class="s2">):</span>
<span class="s2">            super().__init__(name=&#39;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;, process_class=None)</span>
<span class="s2">            </span><span class="si">{</span><span class="n">param_assignments</span><span class="si">}</span>

<span class="s2">        def custom_increment(self, X: float, timestep: float = timestep_default) -&gt; Any:</span>
<span class="s2">            </span><span class="si">{</span><span class="n">dW_code</span><span class="si">}</span>
<span class="s2">            dX = </span><span class="si">{</span><span class="n">increment_code</span><span class="si">}</span>
<span class="s2">            return dX</span>
<span class="s2">    &quot;&quot;&quot;</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Generated class definition:&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">class_code</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">class_code</span></div>

</pre></div>

          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../../index.html">Ergodicity Library</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../index.html">Documentation overview</a><ul>
  <li><a href="../../index.html">Module code</a><ul>
  </ul></li>
  </ul></li>
</ul>
</div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2024, Ihor Kendiukhov.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 7.3.7</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 0.7.16</a>
      
    </div>

    

    
  </body>
</html>