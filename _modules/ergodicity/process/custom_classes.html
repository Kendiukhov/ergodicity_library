<!DOCTYPE html>

<html lang="en" data-content_root="../../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ergodicity.process.custom_classes &#8212; Ergodicity Library 0.3.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=d1102ebc" />
    <link rel="stylesheet" type="text/css" href="../../../_static/alabaster.css?v=12dfc556" />
    <script src="../../../_static/documentation_options.js?v=e259d695"></script>
    <script src="../../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
   
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <h1>Source code for ergodicity.process.custom_classes</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">custom_classes Submodule</span>

<span class="sd">The `Custom Classes` submodule provides a framework for implementing specialized, non-standard stochastic processes. These classes extend the `CustomProcess` class and can be used to represent more complex processes that are not typically covered by standard Ito or Non-Ito frameworks. The submodule encourages the definition of processes with unique dynamics that can be customized to fit specific modeling needs.</span>

<span class="sd">Key Features:</span>

<span class="sd">1. **User-Defined Stochastic Processes**:</span>

<span class="sd">    - This submodule is designed for developers and researchers who need to implement non-standard processes for simulations. Users can create their own stochastic processes by extending the `CustomProcess` base class and implementing a custom increment function that defines the process&#39;s dynamics.</span>

<span class="sd">2. **Flexibility in Process Definition**:</span>

<span class="sd">    - The submodule supports defining processes with state-dependent volatility, complex feedback dynamics, or other advanced stochastic behaviors. It can handle cases where the standard Ito or Non-Ito frameworks may not be sufficient for representing the desired phenomena.</span>

<span class="sd">3. **Multiplicative or Additive Processes**:</span>

<span class="sd">    - The custom processes can be either multiplicative (changes are proportional to the current value, like in Geometric Brownian Motion) or additive (changes are independent of the current value). This allows for modeling a wide range of phenomena such as financial asset prices, population growth, or physical processes with varying volatility.</span>

<span class="sd">Example Class: Constant Elasticity of Variance Process (CEV)</span>

<span class="sd">The **Constant Elasticity of Variance Process** (CEV) is a custom stochastic process that extends the Geometric Brownian Motion model by introducing state-dependent volatility. It is particularly useful for modeling phenomena where volatility increases or decreases with the process level. This class serves as an example of how to implement custom processes using this submodule.</span>

<span class="sd">Key attributes of the **CEV Process**:</span>

<span class="sd">- **State-dependent volatility**: The volatility changes depending on the current level of the process, allowing for more realistic modeling of real-world phenomena.</span>

<span class="sd">- **Elasticity parameter**: A crucial parameter that determines how volatility behaves in relation to the process level. It can produce different types of dynamics:</span>

<span class="sd">    - γ = 1: Reduces to Geometric Brownian Motion.</span>

<span class="sd">    - γ &gt; 1: Volatility increases with the process level (leverage effect).</span>

<span class="sd">    - γ &lt; 1: Volatility decreases with the process level (inverse leverage effect).</span>

<span class="sd">- **Mean-reversion**: The process has a mean-reverting behavior controlled by the mean reversion rate θ. This feature makes it valuable for modeling financial instruments or other time-dependent quantities that tend to stabilize over time.</span>

<span class="sd">Applications of CEV:</span>

<span class="sd">1. **Financial Markets**: Used in option pricing models to describe the behavior of asset prices with level-dependent volatility.</span>

<span class="sd">2. **Population Dynamics**: Models population growth where randomness depends on the population size.</span>

<span class="sd">3. **Physics**: Used to model diffusion in non-homogeneous media, where variance depends on the concentration of the diffusing substance.</span>

<span class="sd">Workflow for Creating Custom Processes:</span>

<span class="sd">1. **Define Parameters**: The process should have its key parameters (drift, volatility, etc.) defined in the class&#39;s constructor.</span>

<span class="sd">2. **Override `custom_increment`**: The core of the custom process lies in the `custom_increment` method, which calculates the state changes based on the current process value and other parameters.</span>

<span class="sd">3. **Handle Dynamics**: Processes may have state-dependent dynamics, feedback loops, or other complex behaviors that are implemented in this method.</span>

<span class="sd">4. **Integrate with Simulation Tools**: Once defined, the custom process can be integrated into the larger simulation framework to model and analyze specific scenarios.</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">import</span> <span class="nn">ergodicity.process.definitions</span> <span class="k">as</span> <span class="nn">definitions</span>
<span class="kn">from</span> <span class="nn">ergodicity.process.default_values</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span><span class="p">,</span> <span class="n">Any</span><span class="p">,</span> <span class="n">Type</span><span class="p">,</span> <span class="n">Callable</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<div class="viewcode-block" id="ConstantElasticityOfVarianceProcess">
<a class="viewcode-back" href="../../../ergodicity/docs/source/ergodicity.process.html#ergodicity.process.custom_classes.ConstantElasticityOfVarianceProcess">[docs]</a>
<span class="k">class</span> <span class="nc">ConstantElasticityOfVarianceProcess</span><span class="p">(</span><span class="n">definitions</span><span class="o">.</span><span class="n">CustomProcess</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    ConstantElasticityOfVarianceProcess (CEV) represents a sophisticated stochastic process that extends</span>
<span class="sd">    the concept of geometric Brownian motion by allowing the volatility to depend on the current level</span>
<span class="sd">    of the process. This continuous-time process, denoted as (S_t)_{t≥0}, is defined by the stochastic</span>
<span class="sd">    differential equation:</span>

<span class="sd">    dS_t = θ * μ * S_t * dt + σ * S_t^γ * dW_t</span>

<span class="sd">    where:</span>

<span class="sd">    - μ: Long-term mean level or drift</span>

<span class="sd">    - σ: Volatility scale parameter</span>

<span class="sd">    - γ: Elasticity parameter, determining how volatility changes with the process level</span>

<span class="sd">    - θ: Mean reversion rate</span>

<span class="sd">    - W_t: Standard Brownian motion</span>

<span class="sd">    Key parameters:</span>

<span class="sd">    1. mu (μ): Influences the overall trend of the process.</span>

<span class="sd">    2. sigma (σ): Base level of volatility.</span>

<span class="sd">    3. gamma (γ): Elasticity of variance, crucial in determining the process&#39;s behavior.</span>

<span class="sd">    4. theta (θ): Rate of mean reversion, controlling how quickly the process tends towards its long-term mean.</span>

<span class="sd">    Key properties:</span>

<span class="sd">    1. State-dependent volatility: Volatility changes with the level of the process, allowing for more</span>
<span class="sd">       realistic modeling of various phenomena.</span>

<span class="sd">    2. Multiplicative nature: The process is inherently multiplicative, suitable for modeling quantities</span>
<span class="sd">       that cannot become negative (e.g., prices, populations).</span>

<span class="sd">    3. Flexible behavior: Depending on the value of γ, the process can exhibit different characteristics:</span>

<span class="sd">       - γ = 1: Reduces to geometric Brownian motion</span>

<span class="sd">       - γ &lt; 1: Volatility decreases as the process level increases (inverse leverage effect)</span>

<span class="sd">       - γ &gt; 1: Volatility increases as the process level increases (leverage effect)</span>

<span class="sd">    4. Mean reversion: The process tends to revert to a long-term mean level, with the speed determined by θ.</span>

<span class="sd">    This implementation extends the CustomProcess class, providing a specialized increment function</span>
<span class="sd">    that captures the unique dynamics of the CEV process. The process is explicitly set as multiplicative</span>
<span class="sd">    (_multiplicative = True), reflecting its nature in modeling proportional changes.</span>

<span class="sd">    Applications span various fields:</span>

<span class="sd">    - Financial modeling: Asset prices with state-dependent volatility, particularly useful in option pricing.</span>

<span class="sd">    - Population dynamics: Species growth with density-dependent randomness.</span>

<span class="sd">    - Physics: Diffusion processes in non-homogeneous media.</span>

<span class="sd">    - Economics: Interest rate models with level-dependent volatility.</span>

<span class="sd">    Researchers and practitioners should be aware of several important considerations:</span>

<span class="sd">    1. Parameter estimation: The interplay between parameters, especially γ and σ, can make estimation challenging.</span>

<span class="sd">    2. Numerical stability: Care must be taken in simulation, particularly when γ &lt; 0.5, to avoid numerical issues.</span>

<span class="sd">    3. Analytical tractability: Closed-form solutions are not always available, necessitating numerical methods.</span>

<span class="sd">    4. Regime-dependent behavior: The process can exhibit significantly different characteristics in different</span>
<span class="sd">       ranges, requiring careful interpretation.</span>

<span class="sd">    The ConstantElasticityOfVarianceProcess offers a powerful and flexible framework for modeling phenomena</span>
<span class="sd">    with state-dependent volatility. Its ability to capture a wide range of behaviors makes it valuable in</span>
<span class="sd">    many applications, but also requires careful consideration in parameter selection, simulation techniques,</span>
<span class="sd">    and result interpretation. The process&#39;s rich dynamics provide opportunities for sophisticated modeling</span>
<span class="sd">    but also demand a thorough understanding of its properties and limitations.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;CEV Process&#39;</span><span class="p">,</span> <span class="n">mu</span> <span class="o">=</span> <span class="mf">0.1</span><span class="p">,</span> <span class="n">sigma</span> <span class="o">=</span> <span class="mf">0.5</span><span class="p">,</span> <span class="n">gamma</span> <span class="o">=</span> <span class="mf">0.5</span><span class="p">,</span> <span class="n">theta</span> <span class="o">=</span> <span class="mf">0.1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initialize the process with the given parameters.</span>

<span class="sd">        :param name: Name of the process</span>
<span class="sd">        :type name: str</span>
<span class="sd">        :param mu: Long-term mean level or drift</span>
<span class="sd">        :type mu: float</span>
<span class="sd">        :param sigma: Volatility scale parameter</span>
<span class="sd">        :type sigma: float</span>
<span class="sd">        :param gamma: Elasticity parameter</span>
<span class="sd">        :type gamma: float</span>
<span class="sd">        :param theta: Mean reversion rate</span>
<span class="sd">        :type theta: float</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_mu</span> <span class="o">=</span> <span class="n">mu</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_sigma</span> <span class="o">=</span> <span class="n">sigma</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_gamma</span> <span class="o">=</span> <span class="n">gamma</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_theta</span> <span class="o">=</span> <span class="n">theta</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_multiplicative</span> <span class="o">=</span> <span class="kc">True</span>

<div class="viewcode-block" id="ConstantElasticityOfVarianceProcess.custom_increment">
<a class="viewcode-back" href="../../../ergodicity/docs/source/ergodicity.process.html#ergodicity.process.custom_classes.ConstantElasticityOfVarianceProcess.custom_increment">[docs]</a>
    <span class="k">def</span> <span class="nf">custom_increment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">X</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">timestep</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">timestep_default</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Compute the increment of the process at the given state X and timestep.</span>

<span class="sd">        :param X: Current state of the process</span>
<span class="sd">        :type X: float</span>
<span class="sd">        :param timestep: Timestep for the increment</span>
<span class="sd">        :type timestep: float</span>
<span class="sd">        :return: Increment of the process at the given state and timestep</span>
<span class="sd">        :rtype: Any</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">dX</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_theta</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mu</span> <span class="o">*</span> <span class="n">X</span> <span class="o">*</span> <span class="n">timestep</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sigma</span> <span class="o">*</span> <span class="n">X</span> <span class="o">**</span> <span class="bp">self</span><span class="o">.</span><span class="n">_gamma</span> <span class="o">*</span> <span class="n">timestep</span> <span class="o">**</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">dX</span></div>
</div>

</pre></div>

          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../../index.html">Ergodicity Library</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../index.html">Documentation overview</a><ul>
  <li><a href="../../index.html">Module code</a><ul>
  </ul></li>
  </ul></li>
</ul>
</div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2024, Ihor Kendiukhov.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 7.3.7</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 0.7.16</a>
      
    </div>

    

    
  </body>
</html>